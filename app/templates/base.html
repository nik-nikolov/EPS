<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    {% if title %}
    <title>{{ title }} - Voting Payment Application</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/style.css">
    {% else %}
    <title>Welcome to Voting Payment Application</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link href="/static/style.css" rel="stylesheet">
    {% endif %}
</head>

<body class="d-flex flex-column min-vh-100">
<div class="navbar bg-primary">
    <div class="container-fluid">
        <div class="navbar-header">
            <b><a class="navbar-brand" href="#">Voting Payment Application </a></b>
        </div>


        <div class="row">
            {% if current_user.is_authenticated and current_user.role == 'user'%}
            <div class="col">
                <b><a class="nav-link" href="{{ url_for('index')}}">Главна</a></b>
            </div>
            <div class="col">
                <b><a class="nav-link" href="{{ url_for('search')}}">Търсене</a></b>
            </div>
            <div class="col">
                <b><a class="nav-link" href="{{ url_for('logout')}}">Logout</a></b>
            </div>
            {% elif current_user.is_authenticated and current_user.role == 'admin' %}
            <div class="col">
                <b><a class="nav-link" href="{{ url_for('index')}}">Главна</a></b>
            </div>
            <div class="col">
                <b><a class="nav-link" href="{{ url_for('user', username=current_user.username) }}">Профили</a></b>
            </div>
            <div class="col">
                <b><a class="nav-link" href="{{ url_for('register') }}">Регистрация</a></b>
            </div>
            <div class="col">
                <b><a class="nav-link" href="{{ url_for('search')}}">Търсене</a></b>
            </div>
            <div class="col">
                <b><a class="nav-link" href="{{ url_for('logout')}}">Logout</a></b>
            </div>
            {% else %}
            <div class="row">
                {% if current_user.is_not_authenticated %}
                <div class="col">
                    <b><a class="nav-link" href="{{ url_for('login')}}">Login</a></b>
                </div>
                {% endif %}
                {% endif %}
            </div>

        </div>
    </div>
</div>

{% block flash %}
{% with messages = get_flashed_messages(with_categories=True) %}

{% if messages %}
<ul class="flashes">
    {% for category, message in messages %}
    {% if category == "success" %}
    <div class="alert alert-success" role="alert">
        <li class="text - {{ category }}">{{ message }}</li>
    </div>
    {% else %}
    <div class="alert alert-danger" role="alert">
        <li class="text - {{ category }}">{{ message }}</li>
    </div>
    {% endif %}
    {% endfor %}
</ul>
{% endif %}

{% endwith%}
{% endblock flash %}


{% block content %}

{% endblock content %}

<!--FOOTER-->
{% block footer %}
<footer class="mt-auto">
    <div class="container text-center">
        <div class="row align-items-end">
            <div class="col-12">Всички права защищени!<br>

                &#169; Николай Николов 2023

            </div>
        </div>
    </div>
</footer>
{% endblock footer %}

<!--SCRIPT-->
{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>

{% endblock scripts %}
</body>
</html>
